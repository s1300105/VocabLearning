{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>English Lesson Analysis</title>
    <link rel="stylesheet" href="{% static 'video_chat/css/analysis.css' %}">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>English Lesson Analysis</h1>
        
        <!-- ローディング表示 -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Processing the recording...</p>
        </div>
        
        <!-- エラーメッセージ -->
        <div id="error-message" class="error-message"></div>
        
        <!-- 分析セクション -->
        <div class="analysis-section">
            <h2>Conversation Analysis</h2>
            
            <!-- 会話の文字起こし -->
            <div class="transcript-container">
                <div class="participant-transcript">
                    <h3>Teacher's Transcript</h3>
                    <div id="teacher-transcript"></div>
                </div>
                <div class="participant-transcript">
                    <h3>Student's Transcript</h3>
                    <div id="student-transcript"></div>
                </div>
            </div>
            
            <!-- 分析結果 -->
            <div class="analysis-results">
                <h3>Analysis Results</h3>
                <div class="metrics">
                    <div class="metric-card">
                        <h4>Speaking Time</h4>
                        <div id="speaking-time" class="metric-value">0:00</div>
                    </div>
                    <div class="metric-card">
                        <h4>Word Count</h4>
                        <div id="word-count" class="metric-value">0</div>
                    </div>
                    <div class="metric-card">
                        <h4>Vocabulary Score</h4>
                        <div id="vocabulary-score" class="metric-value">0</div>
                    </div>
                    <div class="metric-card">
                        <h4>Grammar Score</h4>
                        <div id="grammar-score" class="metric-value">0</div>
                    </div>
                </div>
                
                <!-- 詳細な分析結果 -->
                <div id="detailed-analysis">
                    <h3>Detailed Analysis</h3>
                    <div id="analysis-charts"></div>
                </div>
            </div>
            
            <!-- 会話の流れ -->
            <div class="conversation-flow">
                <h3>Conversation Flow</h3>
                <div id="conversation-timeline"></div>
            </div>
        </div>
        
        <!-- 音声プレイヤー -->
        <div class="analysis-section">
            <h2>Audio Recordings</h2>
            <div id="audio-players"></div>
        </div>
    </div>

    <script src="{% static 'video_chat/js/analysis.js' %}"></script>
</body>
</html>